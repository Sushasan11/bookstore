{% extends "base.html" %}
{% block title %}Order Confirmed â€” Bookstore{% endblock %}
{% block content %}
<!-- Greeting -->
<h2 style="color: #1a202c; margin: 0 0 8px 0; font-size: 24px;">Thank you for your order!</h2>
<p style="color: #4a5568; margin: 0 0 24px 0; font-size: 15px;">
  Hi {{ customer_name }}, your order <strong>#{{ order_id }}</strong> has been confirmed and is being processed.
</p>

<!-- Order summary heading -->
<table width="100%" cellpadding="0" cellspacing="0" style="margin-bottom: 16px;">
  <tr>
    <td style="padding: 12px 16px; background-color: #f7fafc; border-radius: 8px 8px 0 0; border-bottom: 2px solid #e2e8f0;">
      <span style="font-size: 14px; font-weight: 700; color: #2d3748; text-transform: uppercase; letter-spacing: 0.05em;">Order Items</span>
    </td>
  </tr>
</table>

<!-- Book items -->
{% for item in items %}
<table width="100%" cellpadding="0" cellspacing="0" style="margin-bottom: 12px; border: 1px solid #e2e8f0; border-radius: 8px; overflow: hidden;">
  <tr>
    {% if item.cover_image_url %}
    <!-- Book cover -->
    <td width="80" style="padding: 12px; vertical-align: top;">
      <img src="{{ item.cover_image_url }}" alt="{{ item.title }}" width="60" height="80" style="display: block; border-radius: 4px; object-fit: cover; border: 1px solid #e2e8f0;" />
    </td>
    {% endif %}
    <!-- Book info -->
    <td style="padding: 12px; vertical-align: top;">
      <p style="margin: 0 0 4px 0; font-size: 15px; font-weight: 600; color: #1a202c;">{{ item.title }}</p>
      {% if item.author %}
      <p style="margin: 0 0 8px 0; font-size: 13px; color: #718096;">by {{ item.author }}</p>
      {% endif %}
      <p style="margin: 0; font-size: 13px; color: #4a5568;">
        Qty: {{ item.quantity }} &times; ${{ item.unit_price }}
      </p>
    </td>
    <!-- Item total -->
    <td width="100" style="padding: 12px; vertical-align: top; text-align: right;">
      <p style="margin: 0; font-size: 16px; font-weight: 700; color: #1a202c;">${{ "%.2f"|format(item.unit_price|float * item.quantity) }}</p>
    </td>
  </tr>
</table>
{% endfor %}

<!-- Divider -->
<table width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td style="padding: 8px 0;">
      <div style="border-top: 2px solid #1a202c; width: 100%;"></div>
    </td>
  </tr>
</table>

<!-- Total -->
<table width="100%" cellpadding="0" cellspacing="0">
  <tr>
    <td style="padding: 8px 0; text-align: right;">
      <span style="font-size: 14px; color: #718096; margin-right: 16px;">Order Total</span>
      <span style="font-size: 22px; font-weight: 700; color: #1a202c;">${{ total_price }}</span>
    </td>
  </tr>
</table>

<!-- Thank you box -->
<table width="100%" cellpadding="0" cellspacing="0" style="margin-top: 24px;">
  <tr>
    <td style="background-color: #f0fff4; border: 1px solid #c6f6d5; border-radius: 8px; padding: 16px; text-align: center;">
      <p style="margin: 0 0 4px 0; font-size: 16px; font-weight: 600; color: #276749;">Order Confirmed</p>
      <p style="margin: 0; font-size: 13px; color: #48bb78;">We'll have your books ready in no time. Happy reading!</p>
    </td>
  </tr>
</table>
{% endblock %}
