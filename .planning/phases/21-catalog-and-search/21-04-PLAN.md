---
phase: 21-catalog-and-search
plan: "04"
type: execute
wave: 3
depends_on: ["21-02", "21-03"]
files_modified: []
autonomous: false
requirements:
  - CATL-01
  - CATL-02
  - CATL-03
  - CATL-04
  - CATL-05
  - CATL-06
  - CATL-07

must_haves:
  truths:
    - "All CATL requirements verified in browser"
    - "SEO metadata verified in page source"
    - "URL persistence verified with copy-paste test"
  artifacts: []
  key_links: []
---

<objective>
Human verification of the complete catalog and search feature. Verify all CATL-01 through CATL-07 requirements by testing the catalog page and book detail page in the browser.

Purpose: Confirm that the full catalog browsing experience works correctly — grid layout, search, filters, pagination, book detail, SEO metadata, and URL persistence — before marking Phase 21 as complete.

Output: Verification approval or list of issues to address.
</objective>

<execution_context>
@C:/Users/Sushasan/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Sushasan/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify catalog browsing, search, and book detail in browser</name>
  <what-built>
Complete catalog and search feature:
- Paginated book grid at /catalog with cover images, title, author, price, and stock badge
- Debounced search bar with as-you-type filtering
- Genre dropdown filter and price range presets
- Sort options (Relevance, Price asc/desc, Newest, Title A-Z)
- Numbered pagination with URL state persistence
- Book detail page at /books/{id} with two-column layout
- Breadcrumbs (Home > Genre > Book Title)
- Rating display with aggregate stars and review count
- Disabled "Add to Cart" and "Wishlist" placeholder buttons
- "More in this genre" section with related books
- JSON-LD Book schema and Open Graph meta tags on detail pages
- ISR caching on book detail pages (revalidate=3600)
  </what-built>
  <how-to-verify>
**Prerequisites:** Backend running (`cd backend && poetry run task dev`), Frontend running (`cd frontend && npm run dev`).

**CATL-01: Paginated book grid**
1. Navigate to http://localhost:3000/catalog
2. Verify: 4 books per row on desktop, 2 per row on mobile (resize browser)
3. Verify: Each card shows cover placeholder (colored background with title/author), title, author, price, and stock badge
4. Verify: Pagination appears at bottom with page numbers

**CATL-02: Book detail page**
5. Click any book card
6. Verify: Cover-left, details-right layout on desktop; stacked on mobile
7. Verify: Description, rating display, stock status, ISBN, genre, publish date shown
8. Verify: Breadcrumbs show Home > Genre > Book Title
9. Verify: "Add to Cart" and "Wishlist" buttons visible but disabled
10. Verify: "More in this genre" section shows related books at bottom

**CATL-03: Full-text search**
11. Go back to /catalog, type a book title or author name in the search bar
12. Verify: Results update after a brief debounce delay (~300ms)
13. Verify: URL updates with ?q=... parameter

**CATL-04: Genre and price filters**
14. Select a genre from the dropdown
15. Verify: Results filter to only that genre, URL shows ?genre_id=N
16. Click a price range preset (e.g., "$10-$25")
17. Verify: Results filter by price, URL shows ?min_price=10&max_price=25

**CATL-05: URL persistence**
18. Apply search + genre + sort filters
19. Copy the full URL from the address bar
20. Open a new browser tab, paste the URL
21. Verify: Exact same results and filter state are reproduced

**CATL-06: SEO metadata**
22. Navigate to a book detail page (e.g., /books/1)
23. View page source (Ctrl+U / Cmd+Option+U)
24. Verify: `<script type="application/ld+json">` block contains Book schema with name, author, isbn, price, availability
25. Verify: `<meta property="og:title">`, `<meta property="og:description">`, `<meta property="og:type" content="book">` present

**CATL-07: Server-rendered**
26. In the page source of /catalog, verify: Book grid HTML is present in the initial HTML (not client-rendered)
27. In the page source of /books/1, verify: Book details HTML is present in the initial HTML
  </how-to-verify>
  <action>Present the verification checklist to the user and wait for their approval or issue report. No automated work — this is a human verification checkpoint.</action>
  <verify>
    <automated>echo "Checkpoint: awaiting human verification"</automated>
  </verify>
  <done>Human has verified all CATL-01 through CATL-07 requirements in the browser and approved.</done>
  <resume-signal>Type "approved" if all checks pass, or describe specific issues found</resume-signal>
</task>

</tasks>

<verification>
All CATL-01 through CATL-07 requirements verified by human in browser.
</verification>

<success_criteria>
- Human confirms all 27 verification steps pass
- No visual or functional issues identified
- Phase 21 ready to be marked complete
</success_criteria>

<output>
After completion, create `.planning/phases/21-catalog-and-search/21-04-SUMMARY.md`
</output>
